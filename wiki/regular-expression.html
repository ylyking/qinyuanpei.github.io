
  
    <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>正则表达式指南 | 秦元培</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="秦元培">
    

    
    <meta name="description" content="引言正则表达式（Regular Expression）就是用一个“字符串”来描述一个特征，然后去验证另一个“字符串”是否符合这个特征。比如表达式“ab+”描述的特征是“一个 ‘a’ 和 任意个 ‘b’ ”，那么 ‘ab’, ‘abb’, ‘abbbbbbbbbb’ 都符合这个特征。
正则表达式可以用来：

验证字符串是否符合指定特征，比如验证是否是合法的邮件地址。
用来查找字符串，从一个长的文本中">
<meta property="og:type" content="website">
<meta property="og:title" content="正则表达式指南">
<meta property="og:url" content="http://qinyuanpei.com/wiki/regular-expression.html">
<meta property="og:site_name" content="秦元培">
<meta property="og:description" content="引言正则表达式（Regular Expression）就是用一个“字符串”来描述一个特征，然后去验证另一个“字符串”是否符合这个特征。比如表达式“ab+”描述的特征是“一个 ‘a’ 和 任意个 ‘b’ ”，那么 ‘ab’, ‘abb’, ‘abbbbbbbbbb’ 都符合这个特征。
正则表达式可以用来：

验证字符串是否符合指定特征，比如验证是否是合法的邮件地址。
用来查找字符串，从一个长的文本中">
<meta property="og:updated_time" content="2015-10-14T03:20:50.382Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="正则表达式指南">
<meta name="twitter:description" content="引言正则表达式（Regular Expression）就是用一个“字符串”来描述一个特征，然后去验证另一个“字符串”是否符合这个特征。比如表达式“ab+”描述的特征是“一个 ‘a’ 和 任意个 ‘b’ ”，那么 ‘ab’, ‘abb’, ‘abbbbbbbbbb’ 都符合这个特征。
正则表达式可以用来：

验证字符串是否符合指定特征，比如验证是否是合法的邮件地址。
用来查找字符串，从一个长的文本中">

    
    <link rel="alternative" href="/atom.xml" title="秦元培" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

      <body>
        <div id="container">
          <div id="main" class="wiki" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/wiki/regular-expression.html" title="正则表达式指南" itemprop="url">正则表达式指南</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="秦元培" target="_blank" itemprop="author">秦元培</a>
		
  <p class="article-time">
    <time datetime="2015-10-14T02:16:54.000Z" itemprop="datePublished"> 发表于 2015-10-14</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#引言"><span class="toc-number">1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#正则表达式规则"><span class="toc-number">2.</span> <span class="toc-text">正则表达式规则</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#普通字符"><span class="toc-number">2.1.</span> <span class="toc-text">普通字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#简单的转义字符"><span class="toc-number">2.2.</span> <span class="toc-text">简单的转义字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#能够与_‘多种字符’_匹配的表达式"><span class="toc-number">2.3.</span> <span class="toc-text">能够与 ‘多种字符’ 匹配的表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义能够匹配_‘多种字符’_的表达式"><span class="toc-number">2.4.</span> <span class="toc-text">自定义能够匹配 ‘多种字符’ 的表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修饰匹配次数的特殊符号"><span class="toc-number">2.5.</span> <span class="toc-text">修饰匹配次数的特殊符号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他一些代表抽象意义的特殊符号"><span class="toc-number">2.6.</span> <span class="toc-text">其他一些代表抽象意义的特殊符号</span></a></li></ol></li></ol>
		
		</div>
		
		<h1 id="引言">引言</h1><p>正则表达式（Regular Expression）就是用一个“字符串”来描述一个特征，然后去验证另一个“字符串”是否符合这个特征。比如表达式“ab+”描述的特征是“一个 ‘a’ 和 任意个 ‘b’ ”，那么 ‘ab’, ‘abb’, ‘abbbbbbbbbb’ 都符合这个特征。</p>
<p>正则表达式可以用来：</p>
<ul>
<li>验证字符串是否符合指定特征，比如验证是否是合法的邮件地址。</li>
<li>用来查找字符串，从一个长的文本中查找符合指定特征的字符串，比查找固定字符串更加灵活方便。</li>
<li>用来替换，比普通的替换更强大。</li>
</ul>
<h1 id="正则表达式规则">正则表达式规则</h1><h2 id="普通字符">普通字符</h2><p>字母、数字、汉字、下划线等没有特殊定义的标点符号都是”普通字符”。表达式中的普通字符，在匹配一个字符串的时候，匹配与之相同的一个字符。</p>
<ul>
<li>举例1：表达式 “c”，在匹配字符串 “abcde” 时，匹配结果是：成功；匹配到的内容是：”c”；匹配到的位置是：开始于2，结束于3。</li>
<li>举例2：表达式 “bcd”，在匹配字符串 “abcde” 时，匹配结果是：成功；匹配到的内容是：”bcd”；匹配到的位置是：开始于1，结束于4。</li>
</ul>
<blockquote>
<p>注：下标从0开始还是从1开始，因当前编程语言的不同而可能不同）</p>
</blockquote>
<h2 id="简单的转义字符">简单的转义字符</h2><p>对于不便书写的字符，采用在前面加 “\” 的方法。这些字符其实我们都已经熟知了。</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th style="text-align:center">可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>\r, \n</td>
<td style="text-align:center">回车和换行符</td>
</tr>
<tr>
<td>\t</td>
<td style="text-align:center">制表符</td>
</tr>
<tr>
<td>\</td>
<td style="text-align:center">代表\本身</td>
</tr>
</tbody>
</table>
<p>对于有特殊用处的字符，在前面加 “\” 后，就代表该符号本身。比如：^, $ 都有特殊意义，如果要想匹配字符串中 “^” 和 “$” 字符，则表达式就需要写成 “\^” 和 “\$”。</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th style="text-align:center">可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>\^</td>
<td style="text-align:center">匹配^本身</td>
</tr>
<tr>
<td>\$</td>
<td style="text-align:center">匹配$本身</td>
</tr>
<tr>
<td>\.</td>
<td style="text-align:center">匹配小数点(.)本身</td>
</tr>
</tbody>
</table>
<p>这些转义字符的匹配方法与 “普通字符” 是类似的。也是匹配与之相同的一个字符。</p>
<ul>
<li>举例1：表达式 “\$d”，在匹配字符串 “abc$de” 时，匹配结果是：成功；匹配到的内容是：”$d”；匹配到的位置是：开始于3，结束于5。</li>
</ul>
<h2 id="能够与_‘多种字符’_匹配的表达式">能够与 ‘多种字符’ 匹配的表达式</h2><p>正则表达式中的一些表示方法，可以匹配 ‘多种字符’ 其中的任意一个字符。比如，表达式 “\d” 可以匹配任意一个数字。虽然可以匹配其中任意字符，但是只能是一个，不是多个。这就好比玩扑克牌时候，大小王可以代替任意一张牌，但是只能代替一张牌。</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th style="text-align:center">可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>\d</td>
<td style="text-align:center">任意一个数字，0~9 中的任意一个</td>
</tr>
<tr>
<td>\w</td>
<td style="text-align:center">任意一个字母或数字或下划线，也就是 A~Z,a~z,0~9,_ 中任意一个</td>
</tr>
<tr>
<td>\s</td>
<td style="text-align:center">空格、制表符、换页符等空白字符的其中任意一个</td>
</tr>
<tr>
<td>.</td>
<td style="text-align:center">小数点可以匹配除了换行符（\n）以外的任意一个字符</td>
</tr>
</tbody>
</table>
<ul>
<li>举例1：表达式 “\d\d”，在匹配 “abc123” 时，匹配的结果是：成功；匹配到的内容是：”12”；匹配到的位置是：开始于3，结束于5。</li>
<li>举例2：表达式 “a.\d”，在匹配 “aaa100” 时，匹配的结果是：成功；匹配到的内容是：”aa1”；匹配到的位置是：开始于1，结束于4。</li>
</ul>
<h2 id="自定义能够匹配_‘多种字符’_的表达式">自定义能够匹配 ‘多种字符’ 的表达式</h2><p>使用方括号 [ ] 包含一系列字符，能够匹配其中任意一个字符。用 [^ ] 包含一系列字符，则能够匹配其中字符之外的任意一个字符。同样的道理，虽然可以匹配其中任意一个，但是只能是一个，不是多个。</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th style="text-align:center">可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>[ab5@]</td>
<td style="text-align:center">匹配 “a” 或 “b” 或 “5” 或 “@”</td>
</tr>
<tr>
<td>[^abc]</td>
<td style="text-align:center">匹配 “a”,”b”,”c” 之外的任意一个字符</td>
</tr>
<tr>
<td>[f-k]</td>
<td style="text-align:center">匹配 “f”~”k” 之间的任意一个字母</td>
</tr>
<tr>
<td>[^A-F0-3]</td>
<td style="text-align:center">匹配 “A”~”F”,”0”~”3” 之外的任意一个字符</td>
</tr>
</tbody>
</table>
<ul>
<li>举例1：表达式 “[bcd][bcd]” 匹配 “abc123” 时，匹配的结果是：成功；匹配到的内容是：”bc”；匹配到的位置是：开始于1，结束于3。</li>
<li>举例2：表达式 “[^abc]” 匹配 “abc123” 时，匹配的结果是：成功；匹配到的内容是：”1”；匹配到的位置是：开始于3，结束于4。</li>
</ul>
<h2 id="修饰匹配次数的特殊符号">修饰匹配次数的特殊符号</h2><p>前面讲到的表达式，无论是只能匹配一种字符的表达式，还是可以匹配多种字符其中任意一个的表达式，都只能匹配一次。如果使用表达式再加上修饰匹配次数的特殊符号，那么不用重复书写表达式就可以重复匹配。</p>
<p>使用方法是：”次数修饰”放在”被修饰的表达式”后边。比如：”[bcd][bcd]” 可以写成 “[bcd]{2}”。</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>{n}</td>
<td style="text-align:center">表达式重复n次，比如：”\w{2}”相当于”\w\w”；”a{5}”相当于”aaaaa”</td>
</tr>
<tr>
<td>{m,n}</td>
<td style="text-align:center">表达式至少重复m次，最多重复n次，比如：点击测试 “ba{1,3}”可以匹配 “ba”或”baa”或”baaa”</td>
</tr>
<tr>
<td>{m,}</td>
<td style="text-align:center">表达式至少重复m次，比如：点击测试 “\w\d{2,}”可以匹配 “a12”,”_456”,”M12344”…</td>
</tr>
<tr>
<td>?</td>
<td style="text-align:center">匹配表达式0次或者1次，相当于 {0,1}，比如：点击测试 “a[cd]?”可以匹配 “a”,”ac”,”ad”</td>
</tr>
<tr>
<td>+</td>
<td style="text-align:center">表达式至少出现1次，相当于 {1,}，比如：点击测试 “a+b”可以匹配 “ab”,”aab”,”aaab”…</td>
</tr>
<tr>
<td>*</td>
<td style="text-align:center">表达式不出现或出现任意次，相当于 {0,}，比如：点击测试 “\^*b”可以匹配 “b”,”^^^b”…</td>
</tr>
</tbody>
</table>
<ul>
<li>举例1：表达式 “\d+.?\d*” 在匹配 “It costs $12.5” 时，匹配的结果是：成功；匹配到的内容是：”12.5”；匹配到的位置是：开始于10，结束于14。</li>
<li>举例2：表达式 “go{2,8}gle” 在匹配 “Ads by goooooogle” 时，匹配的结果是：成功；匹配到的内容是：”goooooogle”；匹配到的位置是：开始于7，结束于17。</li>
</ul>
<h2 id="其他一些代表抽象意义的特殊符号">其他一些代表抽象意义的特殊符号</h2><p>部分符号在表达式中代表抽象的特殊意义：</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th style="text-align:center">可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>＾　     　　</td>
<td style="text-align:center">与字符串开始的地方匹配，不匹配任何字符</td>
</tr>
<tr>
<td>$　　　</td>
<td style="text-align:center">与字符串结束的地方匹配，不匹配任何字符</td>
</tr>
<tr>
<td>\b　　</td>
<td style="text-align:center">匹配一个单词边界，也就是单词和空格之间的位置，不匹配任何字符</td>
</tr>
</tbody>
</table>
<p>进一步的文字说明仍然比较抽象，因此，举例帮助大家理解。</p>
<p>*　举例1：表达式 “^aaa” 在匹配 “xxx aaa xxx” 时，匹配结果是：失败。因为 “^” 要求与字符串开始的地方匹配，因此，只有当 “aaa” 位于字符串的开头的时候，”^aaa” 才能匹配，点击测试 比如：”aaa xxx xxx”。</p>
<p>*　举例2：表达式 “aaa$” 在匹配 “xxx aaa xxx” 时，匹配结果是：失败。因为 “$” 要求与字符串结束的地方匹配，因此，只有当 “aaa” 位于字符串的结尾的时候，”aaa$” 才能匹配，点击测试 比如：”xxx xxx aaa”。</p>
<p>*　举例3：表达式 “.\b.” 在匹配 “@@@abc” 时，匹配结果是：成功；匹配到的内容是：”@a”；匹配到的位置是：开始于2，结束于4。</p>
<p>进一步说明：”\b” 与 “^” 和 “$” 类似，本身不匹配任何字符，但是它要求它在匹配结果中所处位置的左右两边，其中一边是 “\w” 范围，另一边是 非”\w” 的范围。</p>
<p>*　举例4：表达式 “\bend\b” 在匹配 “weekend,endfor,end” 时，匹配结果是：成功；匹配到的内容是：”end”；匹配到的位置是：开始于15，结束于18。</p>
  
	</div>	       
	</article>
</div>  
        </div>
        <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>




<script type="text/javascript">
  var duoshuoQuery = {short_name:"qinyuanpei"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

      </body>
     </html>
     
